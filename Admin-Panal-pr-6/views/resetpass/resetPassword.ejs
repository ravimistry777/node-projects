<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Reset Password Â· Admin Panel</title>
<link rel="icon" href="/admin.png" />

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
:root {
  /* Warm SaaS Palette */
  --bg-body: #fafaf9; /* Stone-50 */
  --bg-surface: #ffffff;
  
  --text-main: #292524; /* Stone-800 */
  --text-secondary: #57534e; /* Stone-600 */
  --text-muted: #a8a29e; /* Stone-400 */
  
  --primary: #1c1917; /* Stone-900 */
  --primary-hover: #44403c;
  
  --border-light: #e7e5e4; /* Stone-200 */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  
  --radius-md: 8px;
  --radius-lg: 12px;
}

body {
  min-height: 100vh;
  background-color: var(--bg-body);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Inter', 'Outfit', sans-serif;
  color: var(--text-main);
  padding: 20px;
}

.rp-card {
  width: 100%;
  max-width: 400px;
  background: var(--bg-surface);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 40px;
  box-shadow: var(--shadow-sm);
}

.icon-wrap {
  width: 48px;
  height: 48px;
  background: var(--primary);
  color: #fff;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 16px;
  font-size: 1.25rem;
}

.rp-header {
  text-align: center;
  margin-bottom: 32px;
}

.rp-title {
  font-family: 'Outfit', sans-serif;
  font-weight: 700;
  font-size: 1.5rem;
  margin-bottom: 8px;
  color: var(--text-main);
}

.rp-sub {
  font-size: 0.95rem;
  color: var(--text-secondary);
}

.form-label {
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--text-secondary);
  margin-bottom: 6px;
}

.form-control {
  background-color: #f5f5f4;
  border: 1px solid transparent;
  border-radius: var(--radius-md);
  padding: 12px 16px;
  font-size: 0.95rem;
  color: var(--text-main);
  transition: all 0.2s;
}

.form-control:focus {
  background-color: #fff;
  border-color: var(--text-muted);
  box-shadow: 0 0 0 3px rgba(0,0,0,0.05);
  outline: none;
}

.btn-primary {
  background-color: var(--primary);
  border-color: var(--primary);
  color: #fff;
  padding: 12px;
  border-radius: var(--radius-md);
  font-weight: 500;
  width: 100%;
  margin-top: 8px;
}

.btn-primary:hover {
  background-color: var(--primary-hover);
  border-color: var(--primary-hover);
}
</style>
</head>
<body>

<div class="rp-card fade-in-up">
    <div class="rp-header">
        <div class="icon-wrap">
            <i class="bi bi-lock-fill"></i>
        </div>
        <h1 class="rp-title">Set New Password</h1>
        <p class="rp-sub">Must be at least 8 characters.</p>
    </div>

    <!-- Flash Messages -->
    <% if (locals.success && locals.success.length > 0) { %>
        <div class="alert alert-success alert-dismissible fade show border-0 shadow-sm mb-4" role="alert" style="background: #ecfdf5; color: #047857; font-size: 0.9rem;">
            <i class="bi bi-check-circle-fill me-2"></i>
            <%= success %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    <% } %>

    <% if (locals.error && locals.error.length > 0) { %>
        <div class="alert alert-danger alert-dismissible fade show border-0 shadow-sm mb-4" role="alert" style="background: #fef2f2; color: #b91c1c; font-size: 0.9rem;">
            <i class="bi bi-exclamation-circle-fill me-2"></i>
            <%= error %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    <% } %>

    <form method="post" action="/reset-password">
        <div class="mb-3">
            <label class="form-label">New Password</label>
            <input type="password" name="newPassword" class="form-control" required>
        </div>

        <div class="mb-4">
            <label class="form-label">Confirm Password</label>
            <input type="password" name="confirmPassword" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-primary">
            Reset Password
        </button>
    </form>
</div>

</body>
</html>
